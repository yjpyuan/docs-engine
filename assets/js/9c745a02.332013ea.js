"use strict";(globalThis.webpackChunkw3bank_knowledge_wiki=globalThis.webpackChunkw3bank_knowledge_wiki||[]).push([[7578],{6978(e,n,r){r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>d,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"L0-enterprise/constitution/compliance-requirements","title":"\u5408\u89c4\u6027\u8981\u6c42\u89c4\u8303","description":"\u4f01\u4e1a\u7ea7\u5f3a\u5236\u7ea6\u675f\uff0c\u4e0b\u7ea7\u77e5\u8bc6\u5e93\uff08L1/L2\uff09\u4e0d\u53ef\u8986\u76d6","source":"@site/docs/L0-enterprise/constitution/compliance-requirements.md","sourceDirName":"L0-enterprise/constitution","slug":"/L0-enterprise/constitution/compliance-requirements","permalink":"/docs-engine/docs/L0-enterprise/constitution/compliance-requirements","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/L0-enterprise/constitution/compliance-requirements.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"\u67b6\u6784\u5e95\u7ebf\u89c4\u8303","permalink":"/docs-engine/docs/L0-enterprise/constitution/architecture-principles"},"next":{"title":"constitution-template","permalink":"/docs-engine/docs/L0-enterprise/constitution/constitution-template"}}');var s=r(4848),i=r(8453);const d={},l="\u5408\u89c4\u6027\u8981\u6c42\u89c4\u8303",c={},a=[{value:"\u4e00\u3001\u7528\u6237\u6388\u6743\u89c4\u8303 [MUST]",id:"\u4e00\u7528\u6237\u6388\u6743\u89c4\u8303-must",level:2},{value:"1.1 \u6388\u6743\u539f\u5219",id:"11-\u6388\u6743\u539f\u5219",level:3},{value:"1.2 \u6388\u6743\u6821\u9a8c",id:"12-\u6388\u6743\u6821\u9a8c",level:3},{value:"\u4e8c\u3001\u6570\u636e\u7559\u5b58\u4e0e\u5220\u9664 [MUST]",id:"\u4e8c\u6570\u636e\u7559\u5b58\u4e0e\u5220\u9664-must",level:2},{value:"2.1 \u7559\u5b58\u671f\u9650",id:"21-\u7559\u5b58\u671f\u9650",level:3},{value:"2.2 MySQL \u5206\u533a\u8868\u6e05\u7406",id:"22-mysql-\u5206\u533a\u8868\u6e05\u7406",level:3},{value:"2.3 \u7528\u6237\u6ce8\u9500\u5168\u94fe\u8def\u5220\u9664",id:"23-\u7528\u6237\u6ce8\u9500\u5168\u94fe\u8def\u5220\u9664",level:3},{value:"\u4e09\u3001\u6570\u636e\u5bfc\u51fa\u89c4\u8303 [MUST]",id:"\u4e09\u6570\u636e\u5bfc\u51fa\u89c4\u8303-must",level:2},{value:"\u56db\u3001\u7b49\u4fdd 2.0 \u89c4\u8303 [MUST]",id:"\u56db\u7b49\u4fdd-20-\u89c4\u8303-must",level:2},{value:"4.1 \u53cc\u56e0\u7d20\u8ba4\u8bc1",id:"41-\u53cc\u56e0\u7d20\u8ba4\u8bc1",level:3},{value:"4.2 \u6700\u5c0f\u6743\u9650\u539f\u5219",id:"42-\u6700\u5c0f\u6743\u9650\u539f\u5219",level:3},{value:"4.3 \u5ba1\u8ba1\u65e5\u5fd7\u5b58\u8bc1",id:"43-\u5ba1\u8ba1\u65e5\u5fd7\u5b58\u8bc1",level:3},{value:"4.4 \u751f\u4ea7\u73af\u5883\u5b89\u5168\u914d\u7f6e",id:"44-\u751f\u4ea7\u73af\u5883\u5b89\u5168\u914d\u7f6e",level:3},{value:"\u4e94\u3001GDPR \u5408\u89c4\uff08\u51fa\u6d77\uff09 [MAY]",id:"\u4e94gdpr-\u5408\u89c4\u51fa\u6d77-may",level:2},{value:"5.1 \u6570\u636e\u672c\u5730\u5316",id:"51-\u6570\u636e\u672c\u5730\u5316",level:3},{value:"5.2 \u9057\u5fd8\u6743\u5b9e\u73b0",id:"52-\u9057\u5fd8\u6743\u5b9e\u73b0",level:3},{value:"\u516d\u3001\u6570\u636e\u5206\u7ea7\u52a0\u5bc6 [MUST]",id:"\u516d\u6570\u636e\u5206\u7ea7\u52a0\u5bc6-must",level:2},{value:"\u4e03\u3001\u5408\u89c4\u81ea\u67e5\u6e05\u5355",id:"\u4e03\u5408\u89c4\u81ea\u67e5\u6e05\u5355",level:2},{value:"\u516b\u3001\u53cd\u6a21\u5f0f\u68c0\u67e5\u6e05\u5355",id:"\u516b\u53cd\u6a21\u5f0f\u68c0\u67e5\u6e05\u5355",level:2}];function o(e){const n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"\u5408\u89c4\u6027\u8981\u6c42\u89c4\u8303",children:"\u5408\u89c4\u6027\u8981\u6c42\u89c4\u8303"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"\u4f01\u4e1a\u7ea7\u5f3a\u5236\u7ea6\u675f\uff0c\u4e0b\u7ea7\u77e5\u8bc6\u5e93\uff08L1/L2\uff09\u4e0d\u53ef\u8986\u76d6"}),"\n",(0,s.jsx)(n.p,{children:"\u6db5\u76d6\uff1a\u4e2a\u4fdd\u6cd5\u3001GDPR\u3001\u7b49\u4fdd 2.0"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"\u4e00\u7528\u6237\u6388\u6743\u89c4\u8303-must",children:"\u4e00\u3001\u7528\u6237\u6388\u6743\u89c4\u8303 [MUST]"}),"\n",(0,s.jsx)(n.h3,{id:"11-\u6388\u6743\u539f\u5219",children:"1.1 \u6388\u6743\u539f\u5219"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"principles:\n  - \u524d\u7aef\u5f15\u5bfc\u6388\u6743\n  - \u540e\u7aef\u5f3a\u5236\u6821\u9a8c\n  - \u6388\u6743\u72b6\u6001\u6301\u4e45\u5316\n  - \u6388\u6743\u8bb0\u5f55\u5b58\u8bc1\n"})}),"\n",(0,s.jsx)(n.h3,{id:"12-\u6388\u6743\u6821\u9a8c",children:"1.2 \u6388\u6743\u6821\u9a8c"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'// \u2705 \u6b63\u786e\uff1a\u81ea\u5b9a\u4e49\u6388\u6743\u6821\u9a8c\u6ce8\u89e3\n@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface RequireAuth {\n    String value();  // \u6388\u6743\u9879\uff1alocation/phone \u7b49\n}\n\n@Aspect\n@Component\npublic class AuthCheckAspect {\n    @Autowired\n    private StringRedisTemplate redisTemplate;\n\n    @Before("@annotation(requireAuth)")\n    public void checkAuth(JoinPoint joinPoint, RequireAuth requireAuth) {\n        Long userId = SecurityUtils.getCurrentUserId();\n        String authJson = redisTemplate.opsForValue().get("user:auth:" + userId);\n\n        if (StringUtils.isBlank(authJson)) {\n            throw new BusinessException("\u8bf7\u5148\u5b8c\u6210\u6388\u6743");\n        }\n\n        JSONObject authObj = JSON.parseObject(authJson);\n        Boolean hasAuth = authObj.getBoolean(requireAuth.value());\n        if (hasAuth == null || !hasAuth) {\n            throw new BusinessException("\u7f3a\u5c11" + requireAuth.value() + "\u6388\u6743");\n        }\n    }\n}\n\n// \u4f7f\u7528\u793a\u4f8b\n@GetMapping("/nearby")\n@RequireAuth("location")\npublic Result<List<StoreDTO>> getNearbyStores(@RequestParam Double lat,\n                                               @RequestParam Double lng) {\n    return Result.success(storeService.getNearby(lat, lng));\n}\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\u4e8c\u6570\u636e\u7559\u5b58\u4e0e\u5220\u9664-must",children:"\u4e8c\u3001\u6570\u636e\u7559\u5b58\u4e0e\u5220\u9664 [MUST]"}),"\n",(0,s.jsx)(n.h3,{id:"21-\u7559\u5b58\u671f\u9650",children:"2.1 \u7559\u5b58\u671f\u9650"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"\u6570\u636e\u7c7b\u578b"}),(0,s.jsx)(n.th,{children:"\u7559\u5b58\u671f\u9650"}),(0,s.jsx)(n.th,{children:"\u6e05\u7406\u65b9\u5f0f"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"\u6d4f\u89c8\u65e5\u5fd7/\u641c\u7d22\u8bb0\u5f55"}),(0,s.jsx)(n.td,{children:"\u226490 \u5929"}),(0,s.jsx)(n.td,{children:"\u5b9a\u65f6\u7269\u7406\u5220\u9664"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"\u8ba2\u5355/\u652f\u4ed8\u8bb0\u5f55"}),(0,s.jsx)(n.td,{children:"\u22643 \u5e74"}),(0,s.jsx)(n.td,{children:"\u5f52\u6863\u540e\u5220\u9664"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"\u7528\u6237\u57fa\u672c\u4fe1\u606f"}),(0,s.jsx)(n.td,{children:"\u6ce8\u9500\u540e 72 \u5c0f\u65f6"}),(0,s.jsx)(n.td,{children:"\u5168\u94fe\u8def\u5220\u9664"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"22-mysql-\u5206\u533a\u8868\u6e05\u7406",children:"2.2 MySQL \u5206\u533a\u8868\u6e05\u7406"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"-- \u521b\u5efa\u5206\u533a\u8868\nCREATE TABLE user_browse_log (\n    id BIGINT PRIMARY KEY AUTO_INCREMENT,\n    user_id BIGINT NOT NULL,\n    browse_time DATETIME NOT NULL\n) PARTITION BY RANGE (TO_DAYS(browse_time)) (\n    PARTITION p202401 VALUES LESS THAN (TO_DAYS('2024-02-01')),\n    PARTITION p202402 VALUES LESS THAN (TO_DAYS('2024-03-01'))\n);\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'// \u2705 \u6b63\u786e\uff1a\u5b9a\u65f6\u5220\u9664\u8fc7\u671f\u5206\u533a\n@Scheduled(cron = "0 0 2 1 * ?")\npublic void cleanExpiredPartition() {\n    LocalDate threeMonthsAgo = LocalDate.now().minusMonths(3);\n    String partitionName = "p" + threeMonthsAgo.format(DateTimeFormatter.ofPattern("yyyyMM"));\n    jdbcTemplate.execute("ALTER TABLE user_browse_log DROP PARTITION " + partitionName);\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"23-\u7528\u6237\u6ce8\u9500\u5168\u94fe\u8def\u5220\u9664",children:"2.3 \u7528\u6237\u6ce8\u9500\u5168\u94fe\u8def\u5220\u9664"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'// \u2705 \u6b63\u786e\uff1a\u5206\u5e03\u5f0f\u6570\u636e\u6e05\u7406\n@Async("cancelExecutor")\n@Transactional(rollbackFor = Exception.class)\npublic void cancelUserAccount(Long userId) {\n    try {\n        // 1. MySQL \u6e05\u7406\n        userMapper.deleteById(userId);\n        orderMapper.deleteByUserId(userId);\n\n        // 2. Redis \u6e05\u7406\n        Set<String> keys = redisTemplate.keys("user:*:" + userId);\n        if (!keys.isEmpty()) {\n            redisTemplate.delete(keys);\n        }\n\n        // 3. ES \u6e05\u7406\n        DeleteQuery deleteQuery = new DeleteQuery();\n        deleteQuery.setQuery(QueryBuilders.termQuery("user_id", userId));\n        esTemplate.delete(deleteQuery, IndexCoordinates.of("order_index"));\n\n        // 4. MQ \u6e05\u7406\n        rabbitTemplate.convertAndSend("user.cancel.exchange", "user.cancel.key", userId);\n\n        // 5. OSS \u6e05\u7406\n        ossClient.deleteObject("user-avatar-bucket", "avatar/" + userId + ".png");\n\n        // 6. \u5ba1\u8ba1\u65e5\u5fd7\uff08\u533a\u5757\u94fe\u5b58\u8bc1\uff09\n        blockchainAuditService.record("user_cancel", "userId=" + userId);\n\n    } catch (Exception e) {\n        alertService.send("\u7528\u6237\u6ce8\u9500\u6570\u636e\u6e05\u7406\u5931\u8d25\uff0cuserId=" + userId);\n        throw e;\n    }\n}\n\n// \u6e05\u7406\u540e\u6821\u9a8c\n@Scheduled(cron = "0 0 3 * * ?")\npublic void verifyCancelResult() {\n    List<Long> pendingUserIds = cancelRecordMapper.queryPendingCancel(\n        LocalDateTime.now().minusHours(72));\n\n    for (Long userId : pendingUserIds) {\n        boolean mysqlExist = userMapper.existsById(userId) > 0;\n        boolean redisExist = redisTemplate.hasKey("user:info:" + userId);\n        boolean esExist = esTemplate.exists(String.valueOf(userId),\n                                            IndexCoordinates.of("order_index"));\n\n        if (mysqlExist || redisExist || esExist) {\n            alertService.send("\u7528\u6237\u6ce8\u9500\u6570\u636e\u6b8b\u7559\uff0cuserId=" + userId);\n        }\n    }\n}\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\u4e09\u6570\u636e\u5bfc\u51fa\u89c4\u8303-must",children:"\u4e09\u3001\u6570\u636e\u5bfc\u51fa\u89c4\u8303 [MUST]"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'// \u2705 \u6b63\u786e\uff1a\u7528\u6237\u6570\u636e\u5bfc\u51fa\npublic byte[] exportUserData(Long userId) {\n    // 1. \u8eab\u4efd\u9a8c\u8bc1\uff08\u4e8c\u6b21\u9a8c\u8bc1\uff09\n    if (!verifyService.verifyIdentity(userId)) {\n        throw new BusinessException("\u8eab\u4efd\u9a8c\u8bc1\u5931\u8d25");\n    }\n\n    // 2. \u6536\u96c6\u6570\u636e\n    UserDataExportDTO data = new UserDataExportDTO();\n    data.setUserInfo(userMapper.selectById(userId));\n    data.setOrderList(orderMapper.selectByUserId(userId));\n\n    // 3. \u654f\u611f\u6570\u636e\u8131\u654f\n    data.getUserInfo().setIdCard(DesensitizeUtils.maskIdCard(data.getUserInfo().getIdCard()));\n    data.getUserInfo().setPhone(DesensitizeUtils.maskPhone(data.getUserInfo().getPhone()));\n\n    // 4. \u751f\u6210\u52a0\u5bc6 ZIP\n    byte[] jsonBytes = JSON.toJSONBytes(data);\n    byte[] encrypted = AesUtils.encrypt(jsonBytes, getExportKey());\n\n    // 5. \u5ba1\u8ba1\u65e5\u5fd7\n    auditService.recordExport(userId, "user_data_export");\n\n    return encrypted;\n}\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\u56db\u7b49\u4fdd-20-\u89c4\u8303-must",children:"\u56db\u3001\u7b49\u4fdd 2.0 \u89c4\u8303 [MUST]"}),"\n",(0,s.jsx)(n.h3,{id:"41-\u53cc\u56e0\u7d20\u8ba4\u8bc1",children:"4.1 \u53cc\u56e0\u7d20\u8ba4\u8bc1"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'// \u2705 \u6b63\u786e\uff1aTOTP \u53cc\u56e0\u7d20\u8ba4\u8bc1\n@PostMapping("/login/2fa")\npublic Result<String> verify2FA(\n        @RequestParam String username,\n        @RequestParam String totpCode) {\n\n    // 1. \u83b7\u53d6\u7528\u6237\u5bc6\u94a5\n    User user = userMapper.selectByUsername(username);\n    String secret = user.getTotpSecret();\n\n    // 2. \u9a8c\u8bc1 TOTP\n    GoogleAuthenticator gAuth = new GoogleAuthenticator();\n    boolean isValid = gAuth.authorize(secret, Integer.parseInt(totpCode));\n\n    if (!isValid) {\n        // \u8bb0\u5f55\u5931\u8d25\u6b21\u6570\uff0c\u8d85\u8fc7 5 \u6b21\u9501\u5b9a\n        int failCount = redisTemplate.opsForValue()\n            .increment("2fa:fail:" + username).intValue();\n        if (failCount >= 5) {\n            userMapper.lockAccount(username);\n            return Result.fail("\u9a8c\u8bc1\u5931\u8d25\u6b21\u6570\u8fc7\u591a\uff0c\u8d26\u6237\u5df2\u9501\u5b9a");\n        }\n        return Result.fail("\u9a8c\u8bc1\u7801\u9519\u8bef");\n    }\n\n    // 3. \u751f\u6210 Token\n    String token = jwtService.generateToken(user);\n    return Result.success(token);\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"42-\u6700\u5c0f\u6743\u9650\u539f\u5219",children:"4.2 \u6700\u5c0f\u6743\u9650\u539f\u5219"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'// \u2705 \u6b63\u786e\uff1a\u7ec6\u7c92\u5ea6\u6743\u9650\u63a7\u5236\n@PreAuthorize("hasPermission(\'order\', \'read\')")\n@GetMapping("/api/v1/orders/{orderId}")\npublic Result<OrderVO> getOrder(@PathVariable Long orderId) {\n    Order order = orderMapper.selectById(orderId);\n    if (!SecurityUtils.hasDataPermission(order.getUserId())) {\n        throw new AccessDeniedException("\u65e0\u6743\u8bbf\u95ee");\n    }\n    return Result.success(convertToVO(order));\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"43-\u5ba1\u8ba1\u65e5\u5fd7\u5b58\u8bc1",children:"4.3 \u5ba1\u8ba1\u65e5\u5fd7\u5b58\u8bc1"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface AuditLog {\n    String operation();\n    LogLevel level() default LogLevel.NORMAL;\n}\n\npublic enum LogLevel {\n    NORMAL,  // \u666e\u901a\u65e5\u5fd7\n    CORE     // \u6838\u5fc3\u65e5\u5fd7\uff08\u533a\u5757\u94fe\u5b58\u8bc1\uff09\n}\n\n// \u4f7f\u7528\u793a\u4f8b\n@AuditLog(operation = "\u7528\u6237\u6ce8\u9500\u8d26\u53f7", level = LogLevel.CORE)\npublic void cancelUserAccount(Long userId) {\n    // \u6ce8\u9500\u903b\u8f91\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"44-\u751f\u4ea7\u73af\u5883\u5b89\u5168\u914d\u7f6e",children:"4.4 \u751f\u4ea7\u73af\u5883\u5b89\u5168\u914d\u7f6e"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"spring:\n  debug: false\n  datasource:\n    username: ENC(\u52a0\u5bc6\u7528\u6237\u540d)\n    password: ENC(\u52a0\u5bc6\u5bc6\u7801)\n\nlogging:\n  level:\n    com.baomidou.mybatisplus: WARN\n    com.mall: INFO\n\nserver:\n  port: 443\n  ssl:\n    enabled: true\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\u4e94gdpr-\u5408\u89c4\u51fa\u6d77-may",children:"\u4e94\u3001GDPR \u5408\u89c4\uff08\u51fa\u6d77\uff09 [MAY]"}),"\n",(0,s.jsx)(n.h3,{id:"51-\u6570\u636e\u672c\u5730\u5316",children:"5.1 \u6570\u636e\u672c\u5730\u5316"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'// \u2705 \u6b63\u786e\uff1a\u6309\u5730\u57df\u8def\u7531\u6570\u636e\u6e90\n@Component\npublic class RegionDataSourceRouter extends AbstractRoutingDataSource {\n    @Override\n    protected Object determineCurrentLookupKey() {\n        String region = RegionContext.getCurrentRegion();\n        return switch (region) {\n            case "EU" -> "eu-datasource";\n            case "US" -> "us-datasource";\n            default -> "cn-datasource";\n        };\n    }\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"52-\u9057\u5fd8\u6743\u5b9e\u73b0",children:"5.2 \u9057\u5fd8\u6743\u5b9e\u73b0"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"gdpr_requirements:\n  - 30 \u5929\u5185\u54cd\u5e94\u5220\u9664\u8bf7\u6c42\n  - \u5168\u94fe\u8def\u6570\u636e\u6e05\u9664\n  - \u63d0\u4f9b\u5220\u9664\u786e\u8ba4\u8bc1\u660e\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\u516d\u6570\u636e\u5206\u7ea7\u52a0\u5bc6-must",children:"\u516d\u3001\u6570\u636e\u5206\u7ea7\u52a0\u5bc6 [MUST]"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"\u654f\u611f\u7ea7\u522b"}),(0,s.jsx)(n.th,{children:"\u52a0\u5bc6\u7b97\u6cd5"}),(0,s.jsx)(n.th,{children:"\u5bc6\u94a5\u7ba1\u7406"}),(0,s.jsx)(n.th,{children:"\u793a\u4f8b"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"\u6838\u5fc3"}),(0,s.jsx)(n.td,{children:"SM4+\u4fe1\u5c01\u52a0\u5bc6"}),(0,s.jsx)(n.td,{children:"KMS"}),(0,s.jsx)(n.td,{children:"\u8eab\u4efd\u8bc1\u3001\u94f6\u884c\u5361"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"\u91cd\u8981"}),(0,s.jsx)(n.td,{children:"AES-256"}),(0,s.jsx)(n.td,{children:"\u914d\u7f6e\u4e2d\u5fc3\u52a0\u5bc6"}),(0,s.jsx)(n.td,{children:"\u624b\u673a\u53f7\u3001\u90ae\u7bb1"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"\u4e00\u822c"}),(0,s.jsx)(n.td,{children:"\u53ef\u9006\u8131\u654f"}),(0,s.jsx)(n.td,{children:"\u65e0"}),(0,s.jsx)(n.td,{children:"\u6d4f\u89c8\u8bb0\u5f55"})]})]})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"// \u2705 \u6b63\u786e\uff1aSM4 \u52a0\u5bc6\uff08\u56fd\u5bc6\uff09\npublic class Sm4Utils {\n    public static String encrypt(String data, String key) {\n        SM4Engine engine = new SM4Engine();\n        KeyParameter keyParam = new KeyParameter(Hex.decode(key));\n        engine.init(true, keyParam);\n        byte[] encrypted = new byte[engine.getOutputSize(data.getBytes().length)];\n        engine.processBytes(data.getBytes(), 0, data.length(), encrypted, 0);\n        return Hex.toHexString(encrypted);\n    }\n}\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\u4e03\u5408\u89c4\u81ea\u67e5\u6e05\u5355",children:"\u4e03\u3001\u5408\u89c4\u81ea\u67e5\u6e05\u5355"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"\u7ef4\u5ea6"}),(0,s.jsx)(n.th,{children:"\u68c0\u67e5\u9879"}),(0,s.jsx)(n.th,{children:"\u68c0\u67e5\u65b9\u5f0f"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"\u7528\u6237\u6388\u6743"}),(0,s.jsx)(n.td,{children:"\u654f\u611f\u63a5\u53e3\u662f\u5426\u6821\u9a8c\u6388\u6743"}),(0,s.jsx)(n.td,{children:"\u63a5\u53e3\u6d4b\u8bd5 + Redis \u67e5\u8be2"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"\u6570\u636e\u52a0\u5bc6"}),(0,s.jsx)(n.td,{children:"\u654f\u611f\u6570\u636e\u662f\u5426\u52a0\u5bc6\u5b58\u50a8"}),(0,s.jsx)(n.td,{children:"\u6570\u636e\u5e93\u67e5\u8be2"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"\u5ba1\u8ba1\u65e5\u5fd7"}),(0,s.jsx)(n.td,{children:"\u654f\u611f\u64cd\u4f5c\u662f\u5426\u8bb0\u5f55\u65e5\u5fd7"}),(0,s.jsx)(n.td,{children:"\u5ba1\u8ba1\u5e73\u53f0\u67e5\u8be2"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"\u6570\u636e\u5220\u9664"}),(0,s.jsx)(n.td,{children:"\u6ce8\u9500\u540e\u662f\u5426\u5168\u94fe\u8def\u6e05\u7406"}),(0,s.jsx)(n.td,{children:"\u5206\u5e03\u5f0f\u5b58\u50a8\u6821\u9a8c"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"\u7b49\u4fdd\u52a0\u56fa"}),(0,s.jsx)(n.td,{children:"\u751f\u4ea7\u73af\u5883\u662f\u5426\u5173\u95ed\u8c03\u8bd5"}),(0,s.jsx)(n.td,{children:"\u914d\u7f6e\u6587\u4ef6\u68c0\u67e5"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"\u51fa\u6d77\u5408\u89c4"}),(0,s.jsx)(n.td,{children:"\u6570\u636e\u662f\u5426\u672c\u5730\u5316\u5b58\u50a8"}),(0,s.jsx)(n.td,{children:"\u6570\u636e\u5e93\u5730\u57df\u67e5\u8be2"})]})]})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\u516b\u53cd\u6a21\u5f0f\u68c0\u67e5\u6e05\u5355",children:"\u516b\u3001\u53cd\u6a21\u5f0f\u68c0\u67e5\u6e05\u5355"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"\u5e8f\u53f7"}),(0,s.jsx)(n.th,{children:"\u53cd\u6a21\u5f0f"}),(0,s.jsx)(n.th,{children:"\u68c0\u6d4b\u65b9\u5f0f"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"1"}),(0,s.jsx)(n.td,{children:"\u6388\u6743\u4ec5\u524d\u7aef\u6821\u9a8c"}),(0,s.jsx)(n.td,{children:"\u68c0\u67e5\u63a5\u53e3\u6ce8\u89e3"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"2"}),(0,s.jsx)(n.td,{children:"\u654f\u611f\u6570\u636e\u672a\u52a0\u5bc6"}),(0,s.jsx)(n.td,{children:"\u68c0\u67e5\u6570\u636e\u5e93\u5b58\u50a8"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"3"}),(0,s.jsx)(n.td,{children:"\u5ba1\u8ba1\u65e5\u5fd7\u53ef\u7be1\u6539"}),(0,s.jsx)(n.td,{children:"\u68c0\u67e5\u5b58\u50a8\u65b9\u5f0f"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"4"}),(0,s.jsx)(n.td,{children:"\u7528\u6237\u6ce8\u9500\u6570\u636e\u6b8b\u7559"}),(0,s.jsx)(n.td,{children:"\u68c0\u67e5\u5206\u5e03\u5f0f\u5b58\u50a8"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"5"}),(0,s.jsx)(n.td,{children:"\u751f\u4ea7\u73af\u5883\u5f00\u542f\u8c03\u8bd5"}),(0,s.jsx)(n.td,{children:"\u68c0\u67e5\u914d\u7f6e\u6587\u4ef6"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"6"}),(0,s.jsx)(n.td,{children:"\u5bc6\u7801\u5f31\u6821\u9a8c"}),(0,s.jsx)(n.td,{children:"\u68c0\u67e5\u6821\u9a8c\u89c4\u5219"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"7"}),(0,s.jsx)(n.td,{children:"\u65e0\u4e8c\u6b21\u9a8c\u8bc1"}),(0,s.jsx)(n.td,{children:"\u68c0\u67e5\u654f\u611f\u64cd\u4f5c"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"8"}),(0,s.jsx)(n.td,{children:"\u65e5\u5fd7\u660e\u6587\u6253\u5370\u654f\u611f\u6570\u636e"}),(0,s.jsx)(n.td,{children:"\u68c0\u67e5\u65e5\u5fd7\u8f93\u51fa"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"9"}),(0,s.jsx)(n.td,{children:"\u6570\u636e\u5bfc\u51fa\u65e0\u8131\u654f"}),(0,s.jsx)(n.td,{children:"\u68c0\u67e5\u5bfc\u51fa\u903b\u8f91"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"10"}),(0,s.jsx)(n.td,{children:"\u65e0\u6388\u6743\u8bb0\u5f55\u5b58\u8bc1"}),(0,s.jsx)(n.td,{children:"\u68c0\u67e5\u5ba1\u8ba1\u65e5\u5fd7"})]})]})]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},8453(e,n,r){r.d(n,{R:()=>d,x:()=>l});var t=r(6540);const s={},i=t.createContext(s);function d(e){const n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);